<div class="w-50 mx-auto py-4">
  @if(error){
    <div class="alert alert-danger">{{error}}</div>
  }
  <form
    (ngSubmit)="submitLoginForm(loginForm)"
    [formGroup]="loginForm"
  >

    <label for="email">email</label>
    <input
      formControlName="email"
      type="email"
      class="form-control mb-2 input-mine"
      name=""
    />

     @if(loginForm.get('email')?.errors &&
    loginForm.get('email')?.touched) {
    <div class="alert alert-danger">
      @switch (true) { @case
      (loginForm.get('email')?.hasError('required')) {
      <p class="m-0">email is required</p>
      } @case (loginForm.get('email')?.hasError('email')) {
      <p class="m-0">pattern is not true</p>
      } @default {
      <p class="m-0">Invalid input</p>
      } }
    </div>
    }

   <label for="password">password</label>
<div class="position-relative">
  <input
    formControlName="password"
    [type]="showPassword ? 'text' : 'password'"
    class="form-control mb-2 input-mine pe-5"
    id="password"
  />
  <i
    class="fa"
    [class.fa-eye]="!showPassword"
    [class.fa-eye-slash]="showPassword"
    (click)="togglePasswordVisibility()"
    style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); cursor: pointer;"
  ></i>
</div>

    @if(loginForm.get('password')?.errors &&
    loginForm.get('password')?.touched) {
    <div class="alert alert-danger">
      @switch (true) { @case
      (loginForm.get('password')?.hasError('required')) {
      <p class="m-0">password is required</p>
      } @case (loginForm.get('password')?.hasError('pattern')) {
      <p class="m-0">pattern is false</p>
      } @default {
      <p class="m-0">Invalid input</p>
      } }
    </div>
    }


    <button [disabled]="loginForm.invalid" type="submit" class="btn fw-bold text-info  px-4 py-2 my-3">
      <span>Login</span>
      @if(isLoading) {
        <i class="fas fa-spinner fa-spin"></i>
      }
    </button>
  </form>
</div>
